{% trans_default_domain 'avito-board.admin' %}

<ul class="nav nav-pills gap-3 mb-3" id="nav-market">

    <li class="nav-item" role="presentation">
        <button class="btn fw-bolder nav-link active"
                data-bs-toggle="tab"
                type="button"
                role="tab"
                aria-selected="true"

                id="tab_parameter-tab"
                data-bs-target="#tab_parameter"
                aria-controls="nav-market"
        >
            <small class="text-uppercase px-3">
                {# Основные настройки #}
                Обязательные настройки
            </small>
        </button>
    </li>


    <li class="nav-item">
        <button class="btn fw-bolder nav-link"
                data-bs-toggle="tab"
                type="button"
                role="tab"
                aria-selected="true"

                id="tab_property-tab"
                data-bs-target="#tab_property"
                aria-controls="nav-market"
        >
            <small class="text-uppercase px-3">
                {# Пользовательские поля #}
                Настройки 1
            </small>
        </button>
    </li>


</ul>

<div class="tab-content">

    {# ОСНОВНЫЕ НАСТРОЙКИ #}

    <div class="tab-pane fade show active" id="tab_parameter" role="tabpanel">
        {% for mapper in form.mapperSetting %}
            <div class="d-flex p-3 mb-1 gap-2 align-items-end rounded-3 border"
                 style='background-color: {{ mapper.vars.data.elementInstance.isRequired ? '#fff2f2' : '#f8f8f8' }}'
            >

                <div class="w-50">
                    {{ form_label(mapper.productField) }}

                    {% set help = mapper.productField.vars.help %}
                    <div>
                        {% if help is not null %}
                            Формат значения
                            <a href="{{ help }}" target="_blank"> пример </a>
                        {% endif %}

                    </div>
                </div>


                {# свойста для сопоставления #}
                <div class="w-50 d-flex mb-1 gap-2 align-items-end rounded-3">
                    {{ form_widget(mapper.productField, {
                        placeholder: 'Выберите свойство продукта...',
                        attr: { 'data-select' : 'select2', class:  'mb-0'}
                    }) }}

                    {% if mapper.def is defined %}
                        {{ form_widget(mapper.def, {
                            placeholder: 'Выберите свойство продукта...',
                            attr: { 'placeholder' : 'введите значение по умолчанию'}
                        }) }}
                    {% endif %}

                </div>

            </div>
        {% endfor %}
    </div>

    {#    <div class="tab-pane fade show active" id="tab_property" role="tabpanel"> #}
    {#        {% for mapper in form.mapperSetting %} #}
    {#            <div class="d-flex p-3 mb-1 gap-2 align-items-end rounded-3 border" #}
    {#                 style='background-color: {{ mapper.vars.data.elementInstance.isRequired ? '#fff2f2' : '#f8f8f8' }}' #}
    {#            > #}

    {#                <div class="w-50"> #}
    {#                    {{ form_label(mapper.productField) }} #}
    {#                </div> #}

    {#                 свойста для сопоставления #}
    {#                <div class="w-50 d-flex mb-1 gap-2 align-items-end rounded-3"> #}
    {#                    {{ form_widget(mapper.productField, { #}
    {#                        placeholder: 'Выберите свойство продукта...', #}
    {#                        attr: { 'data-select' : 'select2', class:  'mb-0'} #}
    {#                    }) }} #}
    {#                </div> #}

    {#            </div> #}
    {#        {% endfor %} #}
    {#    </div> #}

</div>


